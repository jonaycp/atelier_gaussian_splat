<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Visor GSplat</title>
  <!-- Evita 404 por favicon -->
  <link rel="icon" href="data:;base64,iVBORw0KGgo=">
  <!-- Recuerda ajustar el base si tu repo no se llama 'atelier_gaussian_splat' -->
  <base href="/atelier_gaussian_splat/">
  <style>
    body, html { margin:0; width:100%; height:100%; }
    #viewer { width:100%; height:100%; display:block; }
  </style>
</head>
<body>
  <canvas id="viewer"></canvas>
  <script type="module">
    // Importa todo el API de GSplat desde Skypack
    import * as SPLAT from 'https://cdn.skypack.dev/gsplat@1.2.9';

    // Crea escena, cámara y renderer
    const canvas = document.getElementById('viewer');
    const scene    = new SPLAT.Scene();
    const camera   = new SPLAT.Camera();
    const renderer = new SPLAT.WebGLRenderer({ canvas });
    const controls = new SPLAT.OrbitControls(camera, renderer.canvas);

    // Ajusta posición de cámara inicial
    camera.position.set(0, 0, 10);

    // Carga el archivo .splat (debe residir en la raíz del deploy)
    SPLAT.Loader.LoadAsync('atelier.splat', scene)
      .then(() => {
        // Bucle de animación
        function frame() {
          controls.update();
          renderer.render(scene, camera);
          requestAnimationFrame(frame);
        }
        frame();
      })
      .catch(err => console.error('Error cargando splat:', err));
  </script>
</body>
</html>

